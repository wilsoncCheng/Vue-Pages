{"version":3,"file":"js/939.45e93960.js","mappings":"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","sources":["webpack://week6/./src/libs/emitter.js","webpack://week6/./src/components/PaginationTool.vue","webpack://week6/./src/components/PaginationTool.vue?a8c6","webpack://week6/./src/views/ProductView.vue","webpack://week6/./src/views/ProductView.vue?f743","webpack://week6/./node_modules/mitt/dist/mitt.mjs"],"sourcesContent":["import mitt from 'mitt'\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\n            <ul class=\"pagination\">\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === 1}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Previous\" @click.prevent=\"pageChange(item-1)\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n          <li\n            v-for=\"(item, index) in pages.total_pages\"\n            :key=\"index\"\n            class=\"page-item\"\n            :class=\"{'active': item === pages.current_page}\"\n          >\n            <span\n              class=\"page-link\"\n              v-if=\"item === pages.current_page\"\n            >{{ item }}</span>\n            <a @click.prevent=\"pageChange(item)\"\n              class=\"page-link\"\n              href=\"#/products\"\n              v-else\n            >{{ item }}</a>\n          </li>\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === pages.total_pages}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Next\" @click.prevent=\"pageChange(item+1)\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        </ul>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      pages: {}\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    pageChange (item) {\n      this.emitter.emit('deliver-page_now', {\n        page: item\n      })\n    }\n  },\n  mounted () {\n    this.emitter.on('push-pagination', (message) => {\n      this.pages = message.pages\n    })\n  }\n}\n</script>\n","import { render } from \"./PaginationTool.vue?vue&type=template&id=1253d121\"\nimport script from \"./PaginationTool.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationTool.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<div class=\"container px-4 px-lg-5 my-5\">\n    <div class=\"row gx-4 gx-lg-5 align-items-center\">\n        <div class=\"col-md-6\"><img class=\"card-img-top mb-5 mb-md-0\" :src=\"product.imageUrl\" alt=\"...\" /></div>\n        <div class=\"col-md-6\">\n            <h1 class=\"display-5 fw-bolder\">{{product.title}}</h1>\n            <div class=\"fs-5 mb-5\">\n                <span class=\"text-decoration-line-through\">${{product.origin_price}}</span>\n                <span>${{product.price}}</span>\n            </div>\n            <p class=\"lead\">{{product.content}}</p>\n            <div class=\"d-flex\">\n                <router-link class=\"btn btn-outline-primary btn-lg\" style=\"margin-right:24px\" to=\"/products\" replace>回到商品頁</router-link>\n                <button type=\"button\" class=\"btn btn-primary btn-lg\" @click=\"addToCart(product.id,)\">加入購物車</button>\n            </div>\n        </div>\n    </div>\n</div>\n<PaginationTool></PaginationTool>\n</template>\n<script>\nimport PaginationTool from '@/components/PaginationTool.vue'\nimport emitter from '@/libs/emitter'\nexport default {\n  data () {\n    return {\n      product: {}\n    }\n  },\n  components: {\n    PaginationTool\n  },\n  inject: ['emitter'],\n  methods: {\n    getProduct () {\n      const { id } = this.$route.params\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\n        )\n        .then((res) => {\n          this.product = res.data.product\n        })\n    },\n    addToCart (id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoadingItem = id\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then((res) => {\n          this.isLoadingItem = ''\n          emitter.emit('get-cart')\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n        })\n    }\n  },\n  mounted () {\n    this.getProduct()\n  }\n}\n</script>\n","import { render } from \"./ProductView.vue?vue&type=template&id=7ccaad4b\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n"],"names":["emitter","mitt","class","_createElementVNode","_hoisted_2","_hoisted_6","_createElementBlock","$data","current_page","href","onClick","$options","_ctx","_Fragment","_renderList","total_pages","item","index","key","_toDisplayString","_hoisted_5","data","pages","inject","methods","pageChange","this","emit","page","mounted","on","message","__exports__","render","src","imageUrl","alt","title","origin_price","price","content","_createVNode","_component_router_link","style","to","replace","type","id","_component_PaginationTool","product","components","PaginationTool","getProduct","$route","params","$http","get","then","res","addToCart","qty","product_id","isLoadingItem","post","n","all","Map","t","e","i","push","set","off","splice","indexOf","slice","map"],"sourceRoot":""}
"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[977],{4600:function(t,e,s){s.d(e,{Z:function(){return _}});var a=s(6252),i=s(3577),n=s(9963);const o={class:"pagination"},l=(0,a._)("span",{"aria-hidden":"true"},"«",-1),c=[l],r={key:0,class:"page-link"},d=["onClick"],p=(0,a._)("span",{"aria-hidden":"true"},"»",-1),u=[p];function g(t,e,s,l,p,g){return(0,a.wg)(),(0,a.iD)("ul",o,[(0,a._)("li",{class:(0,i.C_)(["page-item",{disabled:1===p.pages.current_page}])},[(0,a._)("a",{class:"page-link",href:"#/products","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.iM)((e=>g.pageChange(t.item-1)),["prevent"]))},c)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.pages.total_pages,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,i.C_)(["page-item",{active:t===p.pages.current_page}])},[t===p.pages.current_page?((0,a.wg)(),(0,a.iD)("span",r,(0,i.zw)(t),1)):((0,a.wg)(),(0,a.iD)("a",{key:1,onClick:(0,n.iM)((e=>g.pageChange(t)),["prevent"]),class:"page-link",href:"#/products"},(0,i.zw)(t),9,d))],2)))),128)),(0,a._)("li",{class:(0,i.C_)(["page-item",{disabled:p.pages.current_page===p.pages.total_pages}])},[(0,a._)("a",{class:"page-link",href:"#/products","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.iM)((e=>g.pageChange(t.item+1)),["prevent"]))},u)],2)])}var h={data(){return{pages:{}}},inject:["emitter"],methods:{pageChange(t){this.emitter.emit("deliver-page_now",{page:t})}},mounted(){this.emitter.on("push-pagination",(t=>{this.pages=t.pages}))}},b=s(3744);const m=(0,b.Z)(h,[["render",g]]);var _=m},5977:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var a=s(6252),i=s(9963),n=s(3577);const o={class:"container"},l={class:"row"},c={class:"col-3"},r={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group",style:{"flex-direction":"column",width:"100%"}},d=(0,a._)("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio1",autocomplete:"off",checked:""},null,-1),p=(0,a._)("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio2",autocomplete:"off"},null,-1),u=(0,a._)("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio3",autocomplete:"off"},null,-1),g=(0,a._)("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio4",autocomplete:"off"},null,-1),h={class:"row col-9 row-cols-lg-4 row-cols-sm-3"},b={class:"card h-100"},m=["src"],_={class:"card-body"},f={class:"card-title"},k={class:"card-text"},w={class:"btn-group btn-group-sm"},v={class:"fas fa-spinner fa-pulse"},C=(0,a.Uk)(" 查看更多 "),y=["onClick"],D={class:"fas fa-spinner fa-pulse"},L=(0,a.Uk)(" 我想贊助 ");function P(t,e,s,P,$,x){const I=(0,a.up)("router-link"),z=(0,a.up)("PaginationTool");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("form",{onSubmit:e[0]||(e[0]=(0,i.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"])),class:"vld-parent",ref:"formContainer"},null,544),(0,a._)("div",l,[(0,a._)("div",c,[(0,a._)("div",r,[d,(0,a._)("label",{class:"btn btn-outline-success",for:"btnradio1",onClick:e[1]||(e[1]=t=>x.ChangeList("all"))},"全部"),p,(0,a._)("label",{class:"btn btn-outline-success",for:"btnradio2",onClick:e[2]||(e[2]=t=>x.ChangeList("校園"))},"校園"),u,(0,a._)("label",{class:"btn btn-outline-success",for:"btnradio3",onClick:e[3]||(e[3]=t=>x.ChangeList("自然"))},"自然"),g,(0,a._)("label",{class:"btn btn-outline-success",for:"btnradio4",onClick:e[4]||(e[4]=t=>x.ChangeList("機械"))},"其他")])]),(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.listproducts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"",key:e.id},[(0,a._)("div",b,[(0,a._)("img",{src:e.imageUrl,class:"card-img-top",alt:""},null,8,m),(0,a._)("div",_,[(0,a._)("h5",f,(0,n.zw)(e.title),1),(0,a._)("p",k,(0,n.zw)(e.description),1),(0,a._)("div",w,[(0,a.Wm)(I,{to:`/product/${e.id}`,class:"btn btn-outline-secondary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("i",v,null,512),[[i.F8,t.productID===e.id]]),C])),_:2},1032,["to"]),(0,a._)("button",{type:"button",class:"btn btn-outline-danger",onClick:t=>x.addToCart(e.id)},[(0,a.wy)((0,a._)("i",D,null,512),[[i.F8,$.isLoadingItem===e.id]]),L],8,y)])])])])))),128))]),(0,a.Wm)(z)])])}var $=s(4600),x={data(){return{products:[],cartData:{},listproducts:[],isLoadingItem:""}},components:{PaginationTool:$.Z},inject:["emitter"],methods:{getProducts(t=1){const e=this.$loading.show();this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/wilsoncheng/products?page=${t}`).then((t=>{this.products=t.data.products,this.listproducts=this.products,this.emitter.emit("push-pagination",{pages:t.data.pagination})})),e.hide()},addToCart(t,e=1){const s={product_id:t,qty:e};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/wilsoncheng/cart",{data:s}).then((t=>{this.isLoadingItem="",this.emitter.emit("push-message",{style:"success",title:"已經加入購物車"}),this.emitter.emit("get-cart",{})}))},ChangeList(t){const e=this.$loading.show();this.listproducts=[],"all"===t?this.listproducts=this.products:this.products.forEach((e=>{e.category===t&&this.listproducts.push(e)})),e.hide()}},mounted(){this.getProducts(),this.emitter.on("deliver-page_now",(t=>{this.getProducts(t.page)}))}},I=s(3744);const z=(0,I.Z)(x,[["render",P]]);var M=z}}]);
//# sourceMappingURL=977.b4f04caf.js.map
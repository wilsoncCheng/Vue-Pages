"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[603],{4902:function(t,s,e){var c=e(9391);const n=(0,c.Z)();s["Z"]=n},8603:function(t,s,e){e.r(s),e.d(s,{default:function(){return $}});var c=e(6252),n=e(3577),i=e(9963);const o={class:"container px-4 px-lg-5 my-5"},r={class:"row gx-4 gx-lg-5 align-items-center"},u={class:"col-md-6"},a=["src"],d={class:"col-md-6"},l={class:"display-5 fw-bolder"},p={class:"fs-5 mb-5"},h={class:"text-decoration-line-through"},g={class:"lead"},m={class:"d-flex"},f=(0,c.Uk)("回到商品頁"),w={class:"spinner-grow spinner-grow-sm text-warning",role:"status"},b=(0,c.Uk)(" 加入購物車");function v(t,s,e,v,_,x){const y=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)("div",o,[(0,c._)("div",r,[(0,c._)("div",u,[(0,c._)("img",{class:"card-img-top mb-5 mb-md-0",src:_.product.imageUrl,alt:"..."},null,8,a)]),(0,c._)("div",d,[(0,c._)("h1",l,(0,n.zw)(_.product.title),1),(0,c._)("div",p,[(0,c._)("span",h,"$"+(0,n.zw)(_.product.origin_price),1),(0,c._)("span",null,"$"+(0,n.zw)(_.product.price),1)]),(0,c._)("p",g,(0,n.zw)(_.product.content),1),(0,c._)("div",m,[(0,c.Wm)(y,{class:"btn btn-outline-success btn-lg",style:{"margin-right":"24px"},to:"/products",replace:""},{default:(0,c.w5)((()=>[f])),_:1}),(0,c._)("button",{type:"button",class:"btn btn-success btn-lg",onClick:s[0]||(s[0]=t=>x.addToCart(_.product.id))},[(0,c.wy)((0,c._)("div",w,null,512),[[i.F8,_.buyProductID===_.product.id]]),b])])])])])}var _=e(4902),x={data(){return{product:{},buyProductID:""}},inject:["emitter"],methods:{getProduct(){const t=this.$loading.show(),{id:s}=this.$route.params;this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/wilsoncheng/product/${s}`).then((t=>{this.product=t.data.product})),t.hide()},addToCart(t,s=1){this.buyProductID=t;const e=this.$loading.show(),c={product_id:t,qty:s};this.$http.post("https://vue3-course-api.hexschool.io/v2//api/wilsoncheng/cart",{data:c}).then((t=>{this.isLoadingItem="",_.Z.emit("get-cart"),this.emitter.emit("push-message",{style:"success",title:"已經加入購物車"}),this.buyProductID=""})),e.hide()}},mounted(){this.getProduct()}},y=e(3744);const k=(0,y.Z)(x,[["render",v]]);var $=k},9391:function(t,s,e){function c(t){return{all:t=t||new Map,on:function(s,e){var c=t.get(s);c?c.push(e):t.set(s,[e])},off:function(s,e){var c=t.get(s);c&&(e?c.splice(c.indexOf(e)>>>0,1):t.set(s,[]))},emit:function(s,e){var c=t.get(s);c&&c.slice().map((function(t){t(e)})),(c=t.get("*"))&&c.slice().map((function(t){t(s,e)}))}}}e.d(s,{Z:function(){return c}})}}]);
//# sourceMappingURL=603.600480bf.js.map
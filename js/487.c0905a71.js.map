{"version":3,"file":"js/487.c0905a71.js","mappings":"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","sources":["webpack://week6/./src/views/Frontend/ProductsView.vue","webpack://week6/./src/components/PaginationTool.vue","webpack://week6/./src/components/PaginationTool.vue?a8c6","webpack://week6/./src/views/Frontend/ProductsView.vue?9b6d"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <form @submit.prevent=\"submit\" class=\"vld-parent\" ref=\"formContainer\">\n        </form>\n        <div class=\"row\">\n            <div class=\"col-lg-3 col-md-12 col-sm-12\">\n                <div class=\"list-group w-100 flex-direction-column text-center\">\n                    <a href=\"#/products\" class=\"list-group-item list-group-item-action\" :class=\"{'active': pageProducts === showProducts}\" @click=\"ChangeList ('all')\">全部({{allProducts.length}})</a>\n                    <a href=\"#/products\" class=\"list-group-item list-group-item-action\" @click=\"ChangeList ('校園')\">校園({{schoolProduct.length}})</a>\n                    <a href=\"#/products\" class=\"list-group-item list-group-item-action\" @click=\"ChangeList ('自然')\">自然({{natureProduct.length}})</a>\n                    <a href=\"#/products\" class=\"list-group-item list-group-item-action\" @click=\"ChangeList ('機械')\">其他({{othersProduct.length}})</a>\n                </div>\n            </div>\n            <div class=\"row col-lg-9 row-cols-lg-4 row-col-md-3 col-sm-12 mg0-a\">\n                <div class=\"pd-1 mb-2\" v-for=\"product in showProducts\" :key=\"product.id\">\n                    <div class=\"card h-100\">\n                     <router-link :to=\"`/product/${product.id}`\">\n                        <img :src=\"product.imageUrl\" class=\"card-img-top\" alt=\"\">  </router-link>\n                        <div class=\"card-body \">\n                            <h5 class=\"card-title\">{{product.title}}</h5>\n                            <p class=\"card-text mb-5 ellipsis\">{{product.description}}\n                            </p>\n                            <div class=\"w-100 d-flex justify-content-between\">\n   <label class=\"top-0_5 end-10\">\n     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-heart-fill d-inline text-danger\" @click=\"likeProduct(product)\" v-if=\"product.like===true\"  style=\"cursor: pointer;\" viewBox=\"0 0 16 16\">\n      <path fill-rule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\n    </svg>\n    <svg xmlns=\"http://www.w3.org/2000/svg\"  width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-heart d-inline text-danger\" @click=\"likeProduct(product)\" v-else  style=\"cursor: pointer;\" viewBox=\"0 0 16 16\">\n      <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"/>\n    </svg>\n                </label>\n                                <button type=\"button\" class=\"btn btn-outline-danger\" :class=\"{'disabled': buyProductID === product.id}\" @click=\"addToCart(product.id)\">\n                                    <div class=\"spinner-grow spinner-grow-sm text-danger\" v-show=\"buyProductID === product.id\" role=\"status\"></div>\n                                    我想贊助\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <PaginationTool/>\n        </div>\n    </div>\n</template>\n\n<script>\nimport PaginationTool from '@/components/PaginationTool.vue'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      pageProducts: [],\n      cartData: {},\n      isLoadingItem: '',\n      buyProductID: '',\n      showProducts: [],\n      allProducts: [],\n      schoolProduct: [],\n      natureProduct: [],\n      othersProduct: []\n    }\n  },\n  components: {\n    PaginationTool\n  },\n  inject: ['emitter'],\n  methods: {\n    getPageProducts (page = 1) {\n      const loader = this.$loading.show()\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`\n        )\n        .then((res) => {\n          this.pageProducts = res.data.products\n          this.showProducts = this.pageProducts\n          this.emitter.emit('push-pagination', {\n            pages: res.data.pagination\n          })\n          loader.hide()\n        })\n    },\n    getAllProducts () {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\n        )\n        .then((res) => {\n          this.allProducts = res.data.products\n          this.allProducts.forEach(item => {\n            if (item.category === '校園') {\n              this.schoolProduct.push(item)\n            } else if (item.category === '自然') {\n              this.natureProduct.push(item)\n            } else {\n              this.othersProduct.push(item)\n            }\n          })\n        })\n    },\n    likeProduct (item) {\n      if (item.like !== true) {\n        item.like = true\n      } else {\n        item.like = !item.like\n      }\n      const data = item\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}}`, { data }\n        )\n        .then((res) => {\n          console.log(res)\n        }).catch((err) => {\n          console.log(err)\n        })\n    },\n    addToCart (id, qty = 1) {\n      this.buyProductID = id\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then(() => {\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n          this.emitter.emit('get-cart', {\n          })\n          this.buyProductID = ''\n        })\n    },\n    ChangeList (type) {\n      const loader = this.$loading.show()\n      this.showProducts = []\n      if (type === 'all') {\n        this.showProducts = this.pageProducts\n      } else {\n        this.allProducts.forEach(item => {\n          if (item.category === type) {\n            this.showProducts.push(item)\n          }\n        })\n      }\n      loader.hide()\n    }\n  },\n  mounted () {\n    this.getAllProducts()\n    this.getPageProducts()\n    this.emitter.on('deliver-page_now', (message) => {\n      this.getPageProducts(message.page)\n    })\n  }\n}\n</script>\n","<template>\n            <ul class=\"pagination\">\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === 1}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Previous\" @click.prevent=\"pageChange(item-1)\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n          <li\n            v-for=\"(item, index) in pages.total_pages\"\n            :key=\"index\"\n            class=\"page-item\"\n            :class=\"{'active': item === pages.current_page}\"\n          >\n            <span\n              class=\"page-link\"\n              v-if=\"item === pages.current_page\"\n            >{{ item }}</span>\n            <a @click.prevent=\"pageChange(item)\"\n              class=\"page-link\"\n              href=\"#/products\"\n              v-else\n            >{{ item }}</a>\n          </li>\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === pages.total_pages}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Next\" @click.prevent=\"pageChange(item+1)\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        </ul>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      pages: {}\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    pageChange (item) {\n      this.emitter.emit('deliver-page_now', {\n        page: item\n      })\n    }\n  },\n  mounted () {\n    this.emitter.on('push-pagination', (message) => {\n      this.pages = message.pages\n    })\n  }\n}\n</script>\n","import { render } from \"./PaginationTool.vue?vue&type=template&id=1253d121\"\nimport script from \"./PaginationTool.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationTool.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=7d38ba84\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","d","_hoisted_14","_hoisted_17","role","_createElementBlock","onSubmit","_ctx","ref","href","$data","onClick","$options","_toDisplayString","length","_Fragment","_renderList","product","key","id","_createVNode","_component_router_link","to","src","imageUrl","alt","title","description","like","xmlns","width","height","fill","style","viewBox","type","_component_PaginationTool","_hoisted_2","_hoisted_6","current_page","total_pages","item","index","_hoisted_5","data","pages","inject","methods","pageChange","this","emitter","emit","page","mounted","on","message","__exports__","pageProducts","cartData","isLoadingItem","buyProductID","showProducts","allProducts","schoolProduct","natureProduct","othersProduct","components","PaginationTool","getPageProducts","loader","$loading","show","$http","get","then","res","products","pagination","hide","getAllProducts","forEach","category","push","likeProduct","put","console","log","catch","err","addToCart","qty","product_id","post","ChangeList","render"],"sourceRoot":""}
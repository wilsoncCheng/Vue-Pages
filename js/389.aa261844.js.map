{"version":3,"file":"js/389.aa261844.js","mappings":"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","sources":["webpack://week6/./src/libs/emitter.js","webpack://week6/./src/views/Frontend/ProductView.vue","webpack://week6/./src/views/Frontend/ProductView.vue?f143","webpack://week6/./node_modules/mitt/dist/mitt.mjs"],"sourcesContent":["import mitt from 'mitt'\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\n<div class=\"container px-4 px-lg-5 my-5\">\n    <div class=\"row gx-4 gx-lg-5 align-items-center\">\n        <div class=\"col-md-6\"><img class=\"card-img-top mb-5 mb-md-0\" :src=\"product.imageUrl\" alt=\"...\" /></div>\n        <div class=\"col-md-6\">\n            <h1 class=\"display-5 fw-bolder\">{{product.title}}</h1>\n            <div class=\"fs-5 mb-5\">\n                <span class=\"text-decoration-line-through\">${{product.origin_price}}</span>\n                <span>${{product.price}}</span>\n            </div>\n            <p class=\"lead\">{{product.content}}</p>\n            <div class=\"d-flex\">\n                <router-link class=\"btn btn-outline-success btn-lg\" style=\"margin-right:24px\" to=\"/products\" replace>回到商品頁</router-link>\n                <button type=\"button\" class=\"btn btn-success btn-lg\" @click=\"addToCart(product.id,)\"><div class=\"spinner-grow spinner-grow-sm text-warning\" v-show=\"buyProductID === product.id\" role=\"status\"></div>\n                               我想贊助</button>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n<script>\nimport emitter from '@/libs/emitter'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      product: {},\n      buyProductID: ''\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getProduct () {\n      const loader = this.$loading.show()\n      const { id } = this.$route.params\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\n        )\n        .then((res) => {\n          this.product = res.data.product\n        })\n      loader.hide()\n    },\n    addToCart (id, qty = 1) {\n      this.buyProductID = id\n      const loader = this.$loading.show()\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then((res) => {\n          this.isLoadingItem = ''\n          emitter.emit('get-cart')\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n          this.buyProductID = ''\n          loader.hide()\n        })\n    }\n  },\n  mounted () {\n    this.getProduct()\n  }\n}\n</script>\n","import { render } from \"./ProductView.vue?vue&type=template&id=12ce9ff0\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n"],"names":["emitter","mitt","class","role","_createElementBlock","_createElementVNode","src","$data","imageUrl","alt","_toDisplayString","title","origin_price","price","content","_createVNode","_component_router_link","style","to","replace","type","onClick","$options","id","data","product","buyProductID","inject","methods","getProduct","loader","this","$loading","show","$route","params","$http","get","then","res","hide","addToCart","qty","product_id","post","isLoadingItem","emit","mounted","__exports__","render","n","all","Map","on","t","e","i","push","set","off","splice","indexOf","slice","map"],"sourceRoot":""}
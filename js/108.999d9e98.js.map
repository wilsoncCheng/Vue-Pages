{"version":3,"file":"js/108.999d9e98.js","mappings":"sLACOA,GAAG,O,GACDC,MAAM,a,GACJA,MAAM,Y,GACJA,MAAM,a,GACJA,MAAM,iB,GASJA,MAAM,sC,GACXC,EAAAA,EAAAA,GAOQ,eANNA,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAA0B,MAAtBC,MAAM,OAAM,UAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,QANlB,G,GAUQA,MAAM,O,GACRA,MAAM,O,GACNA,MAAM,O,GACNA,MAAM,O,GACNA,MAAM,O,GACJA,MAAM,O,uFA7BxBC,EAAAA,EAAAA,IA+CM,MA/CN,EA+CM,EA9CJF,EAAAA,EAAAA,GA6CM,MA7CN,EA6CM,EA5CJA,EAAAA,EAAAA,GA2CM,MA3CN,EA2CM,EA1CJA,EAAAA,EAAAA,GAyCM,MAzCN,EAyCM,EAxCJA,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAMS,UALPG,KAAK,SACLJ,MAAM,iBACLK,QAAK,eAAEC,EAAAA,iBACT,qBAIHL,EAAAA,EAAAA,GA2BQ,QA3BR,EA2BQ,CA1BNM,GAQAN,EAAAA,EAAAA,GAiBQ,6BAhBNE,EAAAA,EAAAA,IAeKK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAfcC,EAAAA,QAARC,K,WAAXR,EAAAA,EAAAA,IAeK,MAfuBS,IAAKD,EAAKZ,IAAtC,EACEE,EAAAA,EAAAA,GAAyC,KAAzC,GAAyCY,EAAAA,EAAAA,IAAtBF,EAAKG,WAAS,IACnCb,EAAAA,EAAAA,GAAkC,KAAlC,GAAkCY,EAAAA,EAAAA,IAAfF,EAAKZ,IAAE,IAC1BE,EAAAA,EAAAA,GAAmC,KAAnC,GAAmCY,EAAAA,EAAAA,IAAhBF,EAAKI,KAAG,IAC3Bd,EAAAA,EAAAA,GAAqC,KAArC,GAAqCY,EAAAA,EAAAA,IAAlBF,EAAKK,OAAK,IAC7Bf,EAAAA,EAAAA,GAAqC,KAArC,GAAqCY,EAAAA,EAAAA,IAAnBF,EAAKM,SAAO,IAC5BhB,EAAAA,EAAAA,GAQK,KARL,EAQK,EAPHA,EAAAA,EAAAA,GAMS,UALPG,KAAK,SACLJ,MAAM,yBACLK,QAAK,GAAEC,EAAAA,SAASK,EAAKZ,KACvB,OAED,EAAAmB,UAbJ,WAoBJC,EAAAA,EAAAA,IAAoEC,EAAA,CAAvDC,MAAOC,EAAAA,WAAaC,aAAaD,EAAAA,SAA9C,yCAOV,OACEE,OACE,MAAO,CACLC,OAAQ,KAGZC,QAAS,CACPC,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxFC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EACnD,MAAMU,EAAO,0DACbN,KAAKC,MAAMM,KAAKD,GACbE,MAAMC,IACLT,KAAKU,eAENC,OAAOC,IACNC,MAAMD,EAAIE,SAAStB,KAAKuB,SACxBC,OAAOC,SAAW,iBAGxBP,YACEV,KAAKC,MACFiB,IACE,kEAEFV,MAAMC,IACLT,KAAKP,OAASgB,EAAIjB,KAAKC,OACvB0B,QAAQC,IAAIpB,KAAKP,YAGvB4B,SAAUtD,GACR,MAAMuC,EAAO,wEAAyEvC,IACtFiC,KAAKC,MACFqB,OAAOhB,GACPE,MAAMM,IACLd,KAAKuB,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPC,MAAO,UAET1B,KAAKU,eAENC,OAAOC,IACNC,MAAMD,EAAIE,SAAStB,KAAKuB,aAG9BY,eACE,MAAMrB,EAAO,4EACbN,KAAKC,MACFqB,OAAOhB,GACPE,MAAMM,IACLd,KAAKuB,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPC,MAAO,cAET1B,KAAKU,eAENC,OAAOC,IACNC,MAAMD,EAAIE,SAAStB,KAAKuB,cAIhCa,OAAQ,CAAC,WACTC,UACE7B,KAAKL,e,UC7GT,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week6/./src/views/DashBoard/AdminOrder.vue","webpack://week6/./src/views/DashBoard/AdminOrder.vue?5c36"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <div class=\"row py-3\">\n        <div class=\"col-md-12\">\n          <div class=\"text-end mt-4\">\n            <button\n              type=\"button\"\n              class=\"btn btn-danger\"\n              @click=\"delAllOrders()\"\n            >\n              完成所有訂單(千萬不要)\n            </button>\n          </div>\n          <table class=\"table table-hover mt-4 text-center\">\n            <thead>\n              <th width=\"150\">訂單時間</th>\n              <th width=\"150\">訂單編號</th>\n              <th width=\"100\">品項數量</th>\n              <th width=\"100\">總價</th>\n              <th width=\"150\">是否已付款</th>\n              <th width=\"120\">刪除</th>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in orders\" :key=\"item.id\">\n                <th width=\"150\">{{ item.create_at }}</th>\n              <th width=\"150\">{{ item.id }}</th>\n              <th width=\"100\">{{ item.num }}</th>\n              <th width=\"100\">{{ item.total }}</th>\n              <th width=\"150\">{{item.is_paid}}</th>\n                <th width=\"120\" >\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"delOrder(item.id)\"\n                  >\n                    完成\n                  </button>\n                </th>\n              </tr>\n            </tbody>\n          </table>\n          <!--內層:pages,外層:pagination-->\n          <!--內層:get-product,外層:getData-->\n          <pagination :pages=\"pagination\" @get-product=\"getData\"></pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      orders: {}\n    }\n  },\n  methods: {\n    checkadmin () {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n      this.$http.defaults.headers.common.Authorization = token\n      const url = `${process.env.VUE_APP_API}/api/user/check`\n      this.$http.post(url)\n        .then((res) => {\n          this.getOrders()\n        })\n        .catch((err) => {\n          alert(err.response.data.message)\n          window.location = 'index.html'\n        })\n    },\n    getOrders () {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders`\n        )\n        .then((res) => {\n          this.orders = res.data.orders\n          console.log(this.orders)\n        })\n    },\n    delOrder (id) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${id}`\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '訂單已完成'\n          })\n          this.getOrders()\n        })\n        .catch((err) => {\n          alert(err.response.data.message)\n        })\n    },\n    delAllOrders () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/all`\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '所有訂單資料已刪除'\n          })\n          this.getOrders()\n        })\n        .catch((err) => {\n          alert(err.response.data.message)\n        })\n    }\n  },\n  inject: ['emitter'],\n  mounted () {\n    this.checkadmin()\n  }\n}\n</script>\n","import { render } from \"./AdminOrder.vue?vue&type=template&id=18651d50\"\nimport script from \"./AdminOrder.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","width","_createElementBlock","type","onClick","$options","_hoisted_7","_Fragment","_renderList","$data","item","key","_toDisplayString","create_at","num","total","is_paid","_hoisted_14","_createVNode","_component_pagination","pages","_ctx","onGetProduct","data","orders","methods","checkadmin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","url","post","then","res","getOrders","catch","err","alert","response","message","window","location","get","console","log","delOrder","delete","emitter","emit","style","title","delAllOrders","inject","mounted","__exports__","render"],"sourceRoot":""}
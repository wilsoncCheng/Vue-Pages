"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[265],{6265:function(t,s,e){e.r(s),e.d(s,{default:function(){return S}});var l=e(6252),a=e(3577);const r={class:"container mt-4 mb-4"},c={class:"row justify-content-between"},o={class:"col-md-12 col-lg-6"},d={class:"mt-4"},i={class:"table align-middle"},n=(0,l._)("thead",{style:{"text-align":"center"}},[(0,l._)("tr",null,[(0,l._)("th",null,"品名"),(0,l._)("th",null,"數量"),(0,l._)("th",null,"價格"),(0,l._)("th")])],-1),_={class:"text-center"},p={class:"input-group input-group-sm text-center"},u={class:"mb-3",style:{display:"flex",margin:"0 auto"}},h={class:"input-group-text",style:{"margin-left":"20px"},id:"basic-addon2"},w={class:"text-center"},m={key:1},g=(0,l._)("td",{colspan:"3",class:"text-end text-success"},"總價",-1),x={class:"text-end text-success"},y={class:"my-5 row col-md-12 col-lg-6 justify-content-center"},f=(0,l._)("h2",{class:"fs-4 d-flex mb-4"},"訂購資訊",-1),k={class:"list-unstyled"},b={class:"d-flex"},v=(0,l._)("p",{class:"col-4"},"訂單金額：",-1),D={class:"col text-danger"},z=(0,l.Uk)(" $ "),$={class:"fs-5"},C=(0,l.Uk)(" NTD "),j={class:"d-flex"},U=(0,l._)("p",{class:"col-4 text-nowrap"},"訂單編號：",-1),O={class:"col"},q={class:"d-flex"},E=(0,l._)("p",{class:"col-4"},"Email：",-1),H={class:"col"},K={class:"d-flex"},N=(0,l._)("p",{class:"col-4"},"收件人姓名：",-1),T={class:"col"},Y={class:"d-flex"},Z=(0,l._)("p",{class:"col-4"},"聯絡電話",-1),A={class:"col"},B={class:"d-flex"},F=(0,l._)("p",{class:"col-4"},"收件地址：",-1),G={class:"col"},I=(0,l._)("li",{class:"d-flex"},[(0,l._)("p",{class:"col-4"},"備註："),(0,l._)("p",{class:"col"},"無")],-1),J={key:0,class:"disable"},L={key:1};function M(t,s,e,M,P,Q){return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",c,[(0,l._)("div",o,[(0,l._)("div",d,[(0,l._)("table",i,[n,(0,l._)("tbody",null,[P.cartData?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(P.cartData,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",_,(0,a.zw)(t.product.title),1),(0,l._)("td",null,[(0,l._)("div",p,[(0,l._)("div",u,[(0,l.Uk)((0,a.zw)(t.qty)+" ",1),(0,l._)("span",h,(0,a.zw)(t.product.unit),1)])])]),(0,l._)("td",w,(0,a.zw)(t.total),1)])))),128)):((0,l.wg)(),(0,l.iD)("div",m,"123"))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[g,(0,l._)("td",x,(0,a.zw)(P.order.total),1)])])])])]),(0,l._)("div",y,[f,(0,l._)("ul",k,[(0,l._)("li",b,[v,(0,l._)("p",D,[z,(0,l._)("b",$,(0,a.zw)(P.order.total),1),C])]),(0,l._)("li",j,[U,(0,l._)("p",O,(0,a.zw)(P.order.id),1)]),(0,l._)("li",q,[E,(0,l._)("p",H,(0,a.zw)(P.order_user.email),1)]),(0,l._)("li",K,[N,(0,l._)("p",T,(0,a.zw)(P.order_user.name),1)]),(0,l._)("li",Y,[Z,(0,l._)("p",A,(0,a.zw)(P.order_user.tel),1)]),(0,l._)("li",B,[F,(0,l._)("p",G,(0,a.zw)(P.order_user.address),1)]),I]),(0,l._)("button",{type:"submit",class:"btn btn-primary w-100 py-3 mt-5",onClick:s[0]||(s[0]=t=>Q.payCheck())},[P.paid?((0,l.wg)(),(0,l.iD)("p",J,"已付款")):((0,l.wg)(),(0,l.iD)("p",L,"信用卡付款"))])])])])}var P={data(){return{cartData:{},order:{},order_user:{},order_product:{},order_id:"",paid:""}},inject:["emitter"],methods:{getOrder(){this.order_id=this.$route.params.id,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/wilsoncheng/order/${this.order_id}`).then((t=>{this.order=t.data.order,this.order_user=t.data.order.user,this.order_products=t.data.order.products,this.cartData=t.data.order.products,console.log(this.cartData)}))},payCheck(){this.$http.post(`https://vue3-course-api.hexschool.io/v2/api/wilsoncheng/pay/${this.order_id}`).then((t=>{this.emitter.emit("push-message",{style:"success",title:"已經完成繳費"}),this.paid="已繳費"})).catch((t=>{alert(t.response.data.message)}))}},mounted(){this.getOrder()}},Q=e(3744);const R=(0,Q.Z)(P,[["render",M]]);var S=R}}]);
//# sourceMappingURL=265.e6a668df.js.map
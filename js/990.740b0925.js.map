{"version":3,"file":"js/990.740b0925.js","mappings":"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","sources":["webpack://week6/./src/views/DashBoard/AdminOrder.vue","webpack://week6/./src/views/DashBoard/AdminOrder.vue?5c36"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <form @submit.prevent=\"submit\"\n      class=\"vld-parent\"\n      ref=\"formContainer\">\n    </form>\n    <div class=\"container\">\n      <div class=\"row py-3\">\n        <div class=\"col-md-12\">\n          <div class=\"text-end mt-4\">\n            <button\n              type=\"button\"\n              class=\"btn btn-danger\"\n              @click=\"delAllOrders()\"\n            >\n              刪除所有訂單\n            </button>\n          </div>\n          <table class=\"table table-hover mt-4 text-center\">\n            <thead>\n              <th width=\"150\">訂單時間</th>\n              <th width=\"150\">訂單編號</th>\n              <th width=\"100\">品項數量</th>\n              <th width=\"100\">總價</th>\n              <th width=\"150\">是否已付款</th>\n              <th width=\"120\">刪除</th>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in orders\" :key=\"item.id\">\n                <th width=\"150\">{{ item.create_at }}</th>\n              <th width=\"150\">{{ item.id }}</th>\n              <th width=\"100\">{{ item.num }}</th>\n              <th width=\"100\">{{ item.total }}</th>\n                <th width=\"150\">\n                  <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\n                  <span v-else class=\"text-danger\">未完成</span>\n                </th>\n                <th width=\"120\" >\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"delOrder(item.id)\"\n                  >\n                    刪除\n                  </button>\n                </th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      orders: {}\n    }\n  },\n  methods: {\n    checkadmin () {\n      const loader = this.$loading.show()\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n      this.$http.defaults.headers.common.Authorization = token\n      const url = `${process.env.VUE_APP_API}/api/user/check`\n      this.$http.post(url)\n        .then((res) => {\n          this.getOrders()\n          loader.hide()\n        })\n        .catch((err) => {\n          alert(err.response.data.message)\n          window.location = 'index.html'\n        })\n    },\n    getOrders () {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders`\n        )\n        .then((res) => {\n          this.orders = res.data.orders\n        })\n    },\n    delOrder (id) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${id}`\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '訂單已刪除'\n          })\n          this.getOrders()\n        })\n        .catch((err) => {\n          alert(err.response.data.message)\n        })\n    },\n    delAllOrders () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/all`\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '所有訂單已刪除'\n          })\n          this.getOrders()\n        })\n        .catch((err) => {\n          alert(err.response.data.message)\n        })\n    }\n  },\n  inject: ['emitter'],\n  mounted () {\n    this.checkadmin()\n  }\n}\n</script>\n","import { render } from \"./AdminOrder.vue?vue&type=template&id=82ad90dc\"\nimport script from \"./AdminOrder.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","width","_createElementBlock","onSubmit","_ctx","ref","type","onClick","$options","_hoisted_7","_Fragment","_renderList","$data","item","key","_toDisplayString","create_at","num","total","is_paid","_hoisted_16","data","orders","methods","checkadmin","loader","this","$loading","show","token","document","cookie","replace","$http","defaults","headers","common","Authorization","url","post","then","res","getOrders","hide","catch","err","alert","response","message","window","location","get","delOrder","delete","emitter","emit","style","title","delAllOrders","inject","mounted","__exports__","render"],"sourceRoot":""}
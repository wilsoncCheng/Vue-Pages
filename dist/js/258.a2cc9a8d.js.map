{"version":3,"file":"js/258.a2cc9a8d.js","mappings":"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","sources":["webpack://week6/./src/libs/emitter.js","webpack://week6/./src/views/Frontend/CartView.vue","webpack://week6/./src/views/Frontend/CartView.vue?f040","webpack://week6/./node_modules/mitt/dist/mitt.mjs"],"sourcesContent":["import mitt from 'mitt'\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template><div class=\"container\">\n    <div class=\"row d-flex-center\">\n        <div class=\"col-md-6 position-relative\" ><div class=\"lineleft\"></div><div class=\"lineright\"></div>\n            <ul class=\"process d-flex justify-content-between list-unstyled\">\n                <li class=\"circle rounded-circle text-center bg-primary text-white py-lg-4 py-3\"> 1. <br><span class=\"d-none d-lg-inline\">清單確認</span></li>\n                <li class=\"circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3\">\n                    2. <br><span class=\"d-none d-lg-inline\">付款確認</span></li>\n                <li class=\"circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3\"> 3. <br><span class=\"d-none d-lg-inline\">完成訂單</span></li>\n            </ul>\n        </div>\n    </div>\n    <form @submit.prevent=\"submit\" class=\"vld-parent\" ref=\"formContainer\">\n    </form>\n    <div class=\"row\">\n        <div class=\"col-md-12 col-lg-6\">\n            <div class=\"mt-4\">\n                <h2>購物車</h2>\n                <div class=\"text-end\">\n                    <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"removeCarts()\">清空購物車</button>\n                </div>\n                <table class=\"table align-middle\">\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>商品名稱</th>\n                            <th>數量</th>\n                            <th>價格</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <template v-if=\"cartData.carts\">\n            <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\n              <td>\n                <button type=\"button\" @click=\"removeCartItem(item.id)\" class=\"btn btn-outline-danger btn-sm\">\n                 <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" v-show='isLoadingItem'>\n                 <span class=\"visually-hidden\" ></span></div>\n               x\n                </button>\n              </td>\n              <td>\n                {{ item.product.title }}\n                <div class=\"text-success\">已套用優惠券</div>\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <div class=\"input-group mb-3\">\n                    <!-- <input min=\"1\" type=\"number\" class=\"form-control\" v-model=\"item.product.unit\"> -->\n                    <select id=\"\" class=\"form-select\" v-model=\"item.qty\" @change=\"updateCartItem(item)\">\n                      <option :value=\"num\" v-for=\"num in 20\" :selected=\"item.qty === num\" :key=\"`${num}-${item.id}`\">\n                        {{ num }}\n                      </option>\n                    </select>\n                    <span class=\"input-group-text\" id=\"basic-addon2\">{{\n                      item.product.unit\n                      }}</span>\n                  </div>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                {{ item.total }}\n              </td>\n            </tr>\n          </template>\n                        <div v-else>123</div>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <td colspan=\"3\" class=\"text-end\">總計{{ isShow }}</td>\n                            <td class=\"text-end\">{{ cartData.total }}</td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                            <td class=\"text-end text-success\">{{ cartData.final_total}}</td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n        <div class=\"my-5 row col-md-12 col-lg-6 justify-content-center\">\n            <Vee-form ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n                {{ error }}\n                <div class=\"mb-3  w-100\">\n                    <label for=\"email\" class=\"form-label\">Email</label>\n                    <Vee-field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\" v-model=\"user.email\"></Vee-field>\n                    <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3  w-100\">\n                    <label for=\"name\" class=\"form-label\">收件人姓名</label>\n                    <Vee-field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"user.name\"></Vee-field>\n                    <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"tel\" class=\"form-label\">收件人電話</label>\n                    <Vee-field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" rules=\"required|min:8|max:10\" v-model=\"user.tel\"></Vee-field>\n                    <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"address\" class=\"form-label\">收件人地址</label>\n                    <Vee-field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\" v-model=\"user.address\"></Vee-field>\n                    <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"message\" class=\"form-label\">留言</label>\n                    <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"message\"></textarea>\n                </div>\n                <div class=\"text-end\">\n                    <button class=\"btn btn-danger\"><a @click=\"createOrder()\" class=\"spinner-grow spinner-grow-sm\" role=\"status\" v-show='isLoadingOrder'>\n                 <span class=\"visually-hidden\" ></span></a>送出訂單</button>\n                </div>\n            </Vee-form>\n        </div>\n    </div>\n</div>\n</template>\n<script>\nimport emitter from '@/libs/emitter'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      cartData: {},\n      products: [],\n      isLoadingItem: '',\n      isLoadingOrder: '',\n      data: {\n        qty: '',\n        product_id: ''\n      },\n      user: {},\n      message: '',\n      error: '',\n      order_id: '',\n      isShow: ''\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getcart () {\n      const loader = this.$loading.show()\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data\n          if (this.cartData.carts.length === 0) {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '購物車目前沒有商品'\n            })\n            this.$router.push('/products')\n          }\n        }\n        )\n      loader.hide()\n    },\n    removeCartItem (id) {\n      this.isLoadingItem = id\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`)\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n        })\n      this.emitter.emit('get-cart', {\n      })\n    },\n    removeCarts () {\n      this.isLoadingItem = 'working'\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`)\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '已刪除此訂單'\n          })\n        })\n      this.emitter.emit('get-cart', {\n      })\n    },\n    addToCart (id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoadingItem = id\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then((res) => {\n          this.isLoadingItem = ''\n          emitter.emit('get-cart')\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n          this.getcart()\n        })\n    },\n    updateCartItem (item) {\n      const data = {\n        product_id: item.id,\n        qty: item.qty\n      }\n      this.isLoadingItem = item.id\n      this.$http.put(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n        })\n    },\n    createOrder () {\n      const loader = this.$loading.show()\n      this.isLoadingOrder = 'working'\n      const data = {\n        user: this.user,\n        message: this.message\n      }\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`, { data })\n        .then(res => {\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '成功建立訂單'\n          })\n          this.emitter.emit('push-order', {\n            res\n          })\n          this.$router.push({ path: `/payment/${res.data.orderId}` })\n        })\n      loader.hide()\n      this.isLoadingOrder = ''\n      this.user = {}\n    }\n  },\n  mounted () {\n    this.getcart()\n  }\n}\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=871fe692\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n"],"names":["emitter","mitt","class","_createStaticVNode","_createElementVNode","role","_hoisted_12","_createTextVNode","id","key","colspan","for","_hoisted_40","_createElementBlock","_hoisted_2","onSubmit","_withModifiers","_ctx","ref","_hoisted_6","type","onClick","$options","_hoisted_9","$data","carts","_Fragment","_renderList","item","_hoisted_13","_hoisted_10","product","title","_hoisted_15","qty","$event","onChange","num","value","selected","_hoisted_19","_hoisted_18","_toDisplayString","unit","total","_hoisted_22","_hoisted_25","final_total","_createVNode","_component_Vee_form","default","errors","_hoisted_29","_component_Vee_field","name","_normalizeClass","placeholder","rules","modelValue","email","_component_error_message","_hoisted_31","_hoisted_33","tel","_hoisted_35","address","_hoisted_37","cols","rows","_hoisted_41","_hoisted_42","_","data","cartData","products","isLoadingItem","isLoadingOrder","product_id","user","message","error","order_id","isShow","inject","methods","getcart","loader","this","$loading","show","$http","get","then","res","length","emit","style","$router","push","hide","removeCartItem","delete","removeCarts","addToCart","post","updateCartItem","put","createOrder","path","orderId","mounted","__exports__","render","n","all","Map","on","t","e","i","set","off","splice","indexOf","slice","map"],"sourceRoot":""}
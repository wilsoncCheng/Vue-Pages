{"version":3,"file":"js/249.dcf39adb.js","mappings":"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","sources":["webpack://week6/./src/libs/emitter.js","webpack://week6/./src/components/PaginationTool.vue","webpack://week6/./src/components/PaginationTool.vue?a8c6","webpack://week6/./src/views/Frontend/CartView.vue","webpack://week6/./src/views/Frontend/CartView.vue?f040","webpack://week6/./node_modules/mitt/dist/mitt.mjs"],"sourcesContent":["import mitt from 'mitt'\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\n            <ul class=\"pagination\">\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === 1}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Previous\" @click.prevent=\"pageChange(item-1)\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n          <li\n            v-for=\"(item, index) in pages.total_pages\"\n            :key=\"index\"\n            class=\"page-item\"\n            :class=\"{'active': item === pages.current_page}\"\n          >\n            <span\n              class=\"page-link\"\n              v-if=\"item === pages.current_page\"\n            >{{ item }}</span>\n            <a @click.prevent=\"pageChange(item)\"\n              class=\"page-link\"\n              href=\"#/products\"\n              v-else\n            >{{ item }}</a>\n          </li>\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === pages.total_pages}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Next\" @click.prevent=\"pageChange(item+1)\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        </ul>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      pages: {}\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    pageChange (item) {\n      this.emitter.emit('deliver-page_now', {\n        page: item\n      })\n    }\n  },\n  mounted () {\n    this.emitter.on('push-pagination', (message) => {\n      this.pages = message.pages\n    })\n  }\n}\n</script>\n","import { render } from \"./PaginationTool.vue?vue&type=template&id=1253d121\"\nimport script from \"./PaginationTool.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationTool.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<div class=\"container\">\n    <form @submit.prevent=\"submit\" class=\"vld-parent\" ref=\"formContainer\">\n    </form>\n    <div class=\"row\">\n        <div class=\"col-md-12 col-lg-6\">\n            <div class=\"mt-4\">\n                <h2>購物車</h2>\n                <div class=\"text-end\">\n                    <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"removeCarts()\">清空購物車</button>\n                </div>\n                <table class=\"table align-middle\">\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>商品名稱</th>\n                            <th>數量</th>\n                            <th>價格</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <template v-if=\"cartData.carts\">\n          <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\n            <td>\n              <button type=\"button\" @click=\"removeCartItem(item.id)\" class=\"btn btn-outline-danger btn-sm\">\n               <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" v-show='isLoadingItem'>\n               <span class=\"visually-hidden\" ></span></div>\n             x\n              </button>\n            </td>\n            <td>\n              {{ item.product.title }}\n              <div class=\"text-success\">已套用優惠券</div>\n            </td>\n            <td>\n              <div class=\"input-group input-group-sm\">\n                <div class=\"input-group mb-3\">\n                  <!-- <input min=\"1\" type=\"number\" class=\"form-control\" v-model=\"item.product.unit\"> -->\n                  <select id=\"\" class=\"form-select\" v-model=\"item.qty\" @change=\"updateCartItem(item)\">\n                    <option :value=\"num\" v-for=\"num in 20\" :selected=\"item.qty === num\" :key=\"`${num}-${item.id}`\">\n                      {{ num }}\n                    </option>\n                  </select>\n                  <span class=\"input-group-text\" id=\"basic-addon2\">{{\n                    item.product.unit\n                    }}</span>\n                </div>\n              </div>\n            </td>\n            <td class=\"text-end\">\n              {{ item.total }}\n            </td>\n          </tr>\n        </template>\n                        <div v-else>123</div>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <td colspan=\"3\" class=\"text-end\">總計{{ isShow }}</td>\n                            <td class=\"text-end\">{{ cartData.total }}</td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                            <td class=\"text-end text-success\">{{ cartData.final_total}}</td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n        <div class=\"my-5 row col-md-12 col-lg-6 justify-content-center\">\n            <Vee-form ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n                {{ error }}\n                <div class=\"mb-3  w-100\">\n                    <label for=\"email\" class=\"form-label\">Email</label>\n                    <Vee-field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\" v-model=\"user.email\"></Vee-field>\n                    <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3  w-100\">\n                    <label for=\"name\" class=\"form-label\">收件人姓名</label>\n                    <Vee-field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"user.name\"></Vee-field>\n                    <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"tel\" class=\"form-label\">收件人電話</label>\n                    <Vee-field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" rules=\"required|min:8|max:10\" v-model=\"user.tel\"></Vee-field>\n                    <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"address\" class=\"form-label\">收件人地址</label>\n                    <Vee-field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\" v-model=\"user.address\"></Vee-field>\n                    <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"message\" class=\"form-label\">留言</label>\n                    <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"message\"></textarea>\n                </div>\n                <div class=\"text-end\">\n                    <button class=\"btn btn-danger\"><a @click=\"createOrder()\" class=\"spinner-grow spinner-grow-sm\" role=\"status\" v-show='isLoadingOrder'>\n               <span class=\"visually-hidden\" ></span></a>送出{{ this.order_id }}訂單</button>\n                </div>\n            </Vee-form>\n        </div>\n    </div>\n</div>\n<PaginationTool/>\n</template>\n<script>\nimport PaginationTool from '@/components/PaginationTool.vue'\nimport emitter from '@/libs/emitter'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      cartData: {},\n      products: [],\n      isLoadingItem: '',\n      isLoadingOrder: '',\n      data: {\n        qty: '',\n        product_id: ''\n      },\n      user: {},\n      message: '',\n      error: '',\n      order_id: '',\n      isShow: ''\n    }\n  },\n  components: {\n    PaginationTool\n  },\n  inject: ['emitter'],\n  methods: {\n    getcart () {\n      const loader = this.$loading.show()\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data\n          if (this.cartData.carts.length === 0) {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '購物車目前沒有商品'\n            })\n            this.$router.push('/products')\n          }\n        }\n        )\n      loader.hide()\n    },\n    removeCartItem (id) {\n      this.isLoadingItem = id\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`)\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n        })\n      this.emitter.emit('get-cart', {\n      })\n    },\n    removeCarts () {\n      this.isLoadingItem = 'working'\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`)\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '已刪除此訂單'\n          })\n        })\n      this.emitter.emit('get-cart', {\n      })\n    },\n    addToCart (id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoadingItem = id\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then((res) => {\n          this.isLoadingItem = ''\n          emitter.emit('get-cart')\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n          this.getcart()\n        })\n    },\n    updateCartItem (item) {\n      const data = {\n        product_id: item.id,\n        qty: item.qty\n      }\n      this.isLoadingItem = item.id\n      this.$http.put(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n        })\n    },\n    createOrder () {\n      const loader = this.$loading.show()\n      this.isLoadingOrder = 'working'\n      const data = {\n        user: this.user,\n        message: this.message\n      }\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`, { data })\n        .then(res => {\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '成功建立訂單'\n          })\n          this.emitter.emit('push-order', {\n            res\n          })\n          this.$router.push({ path: `/payment/${res.data.orderId}` })\n        })\n      loader.hide()\n      this.isLoadingOrder = ''\n      this.user = {}\n    }\n  },\n  mounted () {\n    this.getcart()\n  }\n}\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=70dbe116\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n"],"names":["emitter","mitt","class","_createElementVNode","_hoisted_2","_hoisted_6","_createElementBlock","$data","current_page","href","onClick","$options","_ctx","_Fragment","_renderList","total_pages","item","index","key","_toDisplayString","_hoisted_5","data","pages","inject","methods","pageChange","this","emit","page","mounted","on","message","__exports__","render","role","_hoisted_11","id","colspan","for","_hoisted_39","onSubmit","ref","type","_hoisted_8","carts","_hoisted_12","product","title","_hoisted_14","qty","$event","onChange","num","value","selected","_hoisted_18","unit","total","_hoisted_21","_hoisted_24","final_total","_createVNode","_component_Vee_form","errors","_hoisted_28","_component_Vee_field","name","placeholder","rules","email","_component_error_message","_hoisted_30","_hoisted_32","tel","_hoisted_34","address","_hoisted_36","cols","rows","order_id","_component_PaginationTool","cartData","products","isLoadingItem","isLoadingOrder","product_id","user","error","isShow","components","PaginationTool","getcart","loader","$loading","show","$http","get","then","res","length","style","$router","push","hide","removeCartItem","delete","removeCarts","addToCart","post","updateCartItem","put","createOrder","path","orderId","n","all","Map","t","e","i","set","off","splice","indexOf","slice","map"],"sourceRoot":""}
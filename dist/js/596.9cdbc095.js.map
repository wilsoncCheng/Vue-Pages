{"version":3,"file":"js/596.9cdbc095.js","mappings":"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","sources":["webpack://week6/./src/libs/emitter.js","webpack://week6/./src/views/Frontend/CartView.vue","webpack://week6/./src/views/Frontend/CartView.vue?f040","webpack://week6/./node_modules/mitt/dist/mitt.mjs"],"sourcesContent":["import mitt from 'mitt'\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template><div class=\"container\">\n    <div class=\"row d-flex-center\">\n        <div class=\"col-md-6 position-relative\" ><div class=\"lineleft\"></div><div class=\"lineright\"></div>\n            <ul class=\"process d-flex justify-content-between list-unstyled\">\n                <li class=\"circle rounded-circle text-center bg-primary text-white py-lg-4 py-3\"> 1. <br><span class=\"d-none d-lg-inline\">清單確認</span></li>\n                <li class=\"circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3\">\n                    2. <br><span class=\"d-none d-lg-inline\">付款確認</span></li>\n                <li class=\"circle rounded-circle text-center bg-secondary text-primary py-lg-4 py-3\"> 3. <br><span class=\"d-none d-lg-inline\">完成訂單</span></li>\n            </ul>\n        </div>\n    </div>\n    <form @submit.prevent=\"submit\" class=\"vld-parent\" ref=\"formContainer\">\n    </form>\n    <div class=\"row\">\n        <div class=\"col-md-12 col-lg-6 p-4\">\n            <div class=\"mt-4\">\n                <h2>確定訂單內容</h2>\n                <div class=\"text-end\">\n                    <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"removeCarts()\">清空購物車</button>\n                </div>\n                <table class=\"table align-middle\">\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>商品內容</th>\n                            <th>數量</th>\n                            <th>價格</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <template v-if=\"cartData.carts\">\n            <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\n              <td>\n                <button type=\"button\" @click=\"removeCartItem(item.id)\" class=\"btn btn-outline-danger btn-sm\">\n                 <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" v-show='isLoadingItem'>\n                 <span class=\"visually-hidden\" ></span></div>\n               x\n                </button>\n              </td>\n              <td> <img :src=\"item.product.imageUrl\" class=\"mr-3\" style=\"width:100px\" alt=\"\">\n                {{ item.product.title }}\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <div class=\"input-group mb-3\">\n                    <!-- <input min=\"1\" type=\"number\" class=\"form-control\" v-model=\"item.product.unit\"> -->\n                    <select class=\"form-select\" v-model=\"item.qty\" @change=\"updateCartItem(item)\">\n                      <option :value=\"num\" v-for=\"num in 20\" :selected=\"item.qty === num\" :key=\"`${num}-${item.id}`\">\n                        {{ num }}\n                      </option>\n                    </select>\n                    <span class=\"input-group-text\" id=\"basic-addon2\">{{\n                      item.product.unit\n                      }}</span>\n                  </div>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                {{ item.total }}\n              </td>\n            </tr>\n          </template>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <td colspan=\"3\" class=\"text-end\">總計{{ isShow }}</td>\n                            <td class=\"text-end\">{{ cartData.total }}</td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                            <td class=\"text-end text-success\">{{ cartData.final_total}}</td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n        <div class=\"row col-md-12 col-lg-6 justify-content-center bg-green my-4 p-4\">\n            <Vee-form ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n                {{ error }}\n                <div class=\"mb-3  w-100\">\n                    <label for=\"email\" class=\"form-label\">Email<span class=\"text-danger\">*</span></label>\n                    <Vee-field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\" v-model=\"user.email\"></Vee-field>\n                    <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3  w-100\">\n                    <label for=\"name\" class=\"form-label\">收件人姓名<span class=\"text-danger\">*</span></label>\n                    <Vee-field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"user.name\"></Vee-field>\n                    <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"tel\" class=\"form-label\">收件人電話<span class=\"text-danger\">*</span></label>\n                    <Vee-field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" rules=\"required|min:8|max:10\" v-model=\"user.tel\"></Vee-field>\n                    <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"address\" class=\"form-label\">收件人地址<span class=\"text-danger\">*</span></label>\n                    <Vee-field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\" v-model=\"user.address\"></Vee-field>\n                    <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"message\" class=\"form-label\">留言</label>\n                    <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"message\"></textarea>\n                </div>\n                <div class=\"text-end\">\n                    <button class=\"btn btn-success\"><a @click=\"createOrder()\" class=\"spinner-grow spinner-grow-sm\" role=\"status\" v-show='isLoadingOrder'>\n                 <span class=\"visually-hidden\" ></span></a>送出訂單</button>\n                </div>\n            </Vee-form>\n        </div>\n    </div>\n</div>\n</template>\n<script>\nimport emitter from '@/libs/emitter'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      cartData: {},\n      products: [],\n      isLoadingItem: '',\n      isLoadingOrder: '',\n      data: {\n        qty: '',\n        product_id: ''\n      },\n      user: {},\n      message: '',\n      error: '',\n      order_id: '',\n      isShow: ''\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getcart () {\n      const loader = this.$loading.show()\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data\n          if (this.cartData.carts.length === 0) {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '購物車目前沒有商品'\n            })\n            this.$router.push('/products')\n          }\n          loader.hide()\n        }\n        )\n    },\n    removeCartItem (id) {\n      this.isLoadingItem = id\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`)\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n        })\n      this.emitter.emit('get-cart', {\n      })\n    },\n    removeCarts () {\n      this.isLoadingItem = 'working'\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`)\n        .then(res => {\n          this.getcart()\n          this.isLoadingItem = ''\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '已刪除此訂單'\n          })\n        })\n      this.emitter.emit('get-cart', {\n      })\n    },\n    addToCart (id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoadingItem = id\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then(() => {\n          this.isLoadingItem = ''\n          emitter.emit('get-cart')\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n          this.getcart()\n        })\n    },\n    updateCartItem (item) {\n      const data = {\n        product_id: item.id,\n        qty: item.qty\n      }\n      this.isLoadingItem = item.id\n      this.$http.put(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\n        .then(() => {\n          this.getcart()\n          this.isLoadingItem = ''\n        })\n    },\n    createOrder () {\n      const loader = this.$loading.show()\n      this.isLoadingOrder = 'working'\n      const data = {\n        user: this.user,\n        message: this.message\n      }\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`, { data })\n        .then(res => {\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '成功建立訂單'\n          })\n          this.emitter.emit('push-order', {\n            res\n          })\n          this.$router.push({ path: `/payment/${res.data.orderId}` })\n          loader.hide()\n        })\n      this.isLoadingOrder = ''\n      this.user = {}\n    }\n  },\n  mounted () {\n    this.getcart()\n  }\n}\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=362c8c35\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n"],"names":["emitter","mitt","class","_createStaticVNode","_createElementVNode","role","_hoisted_12","_createTextVNode","id","colspan","for","_hoisted_39","_createElementBlock","_hoisted_2","onSubmit","_withModifiers","_ctx","ref","_hoisted_6","type","onClick","$options","_hoisted_9","$data","carts","_Fragment","key","_renderList","item","_hoisted_13","_hoisted_10","src","product","imageUrl","style","alt","_hoisted_15","_toDisplayString","title","qty","$event","onChange","num","value","selected","_hoisted_19","_hoisted_18","unit","total","_createCommentVNode","_hoisted_24","final_total","_createVNode","_component_Vee_form","default","errors","_hoisted_28","_component_Vee_field","name","_normalizeClass","placeholder","rules","modelValue","email","_component_error_message","_hoisted_30","_hoisted_32","tel","_hoisted_34","address","_hoisted_36","cols","rows","_hoisted_40","_hoisted_41","_","data","cartData","products","isLoadingItem","isLoadingOrder","product_id","user","message","error","order_id","isShow","inject","methods","getcart","loader","this","$loading","show","$http","get","then","res","length","emit","$router","push","hide","removeCartItem","delete","removeCarts","addToCart","post","updateCartItem","put","createOrder","path","orderId","mounted","__exports__","render","n","all","Map","on","t","e","i","set","off","splice","indexOf","slice","map"],"sourceRoot":""}
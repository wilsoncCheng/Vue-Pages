"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[326],{326:function(t,s,e){e.r(s),e.d(s,{default:function(){return P}});var l=e(6252),a=e(3577);const r={class:"container mt-4 mb-4"},c={class:"table align-middle"},d=(0,l._)("thead",{style:{"text-align":"center"}},[(0,l._)("tr",null,[(0,l._)("th",null,"品名"),(0,l._)("th",null,"數量"),(0,l._)("th",null,"價格"),(0,l._)("th")])],-1),o={class:"text-center"},i={class:"input-group input-group-sm text-center"},p={class:"mb-3",style:{display:"flex",margin:"0 auto"}},n={class:"input-group-text",style:{"margin-left":"20px"},id:"basic-addon2"},_={class:"text-center"},u={key:1},h=(0,l._)("td",{colspan:"3",class:"text-end text-success"},"總價",-1),w={class:"text-end text-success"},m={class:"col-md-12 p-4 py-5 p-md-5 bg-white"},g=(0,l._)("h2",{class:"fs-4 d-flex mb-4"},"訂購資訊",-1),x={class:"list-unstyled"},y={class:"d-flex"},f=(0,l._)("p",{class:"col-4"},"訂單金額：",-1),k={class:"col text-danger"},b=(0,l.Uk)(" $ "),v={class:"fs-5"},D=(0,l.Uk)(" NTD "),z={class:"d-flex"},$=(0,l._)("p",{class:"col-4 text-nowrap"},"訂單編號：",-1),C={class:"col"},U={class:"d-flex"},O=(0,l._)("p",{class:"col-4"},"Email：",-1),j={class:"col"},q={class:"d-flex"},E=(0,l._)("p",{class:"col-4"},"收件人姓名：",-1),H={class:"col"},K={class:"d-flex"},N=(0,l._)("p",{class:"col-4"},"聯絡電話",-1),T={class:"col"},Y={class:"d-flex"},Z=(0,l._)("p",{class:"col-4"},"收件地址：",-1),A={class:"col"},B=(0,l._)("li",{class:"d-flex"},[(0,l._)("p",{class:"col-4"},"備註："),(0,l._)("p",{class:"col"},"無")],-1),F={key:0,class:"disable"},G={key:1};function I(t,s,e,I,J,L){return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("table",c,[d,(0,l._)("tbody",null,[J.cartData?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(J.cartData,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",o,(0,a.zw)(t.product.title),1),(0,l._)("td",null,[(0,l._)("div",i,[(0,l._)("div",p,[(0,l.Uk)((0,a.zw)(t.qty)+" ",1),(0,l._)("span",n,(0,a.zw)(t.product.unit),1)])])]),(0,l._)("td",_,(0,a.zw)(t.total),1)])))),128)):((0,l.wg)(),(0,l.iD)("div",u,"123"))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[h,(0,l._)("td",w,(0,a.zw)(J.order.total),1)])])]),(0,l._)("div",m,[g,(0,l._)("ul",x,[(0,l._)("li",y,[f,(0,l._)("p",k,[b,(0,l._)("b",v,(0,a.zw)(J.order.total),1),D])]),(0,l._)("li",z,[$,(0,l._)("p",C,(0,a.zw)(J.order.id),1)]),(0,l._)("li",U,[O,(0,l._)("p",j,(0,a.zw)(J.order_user.email),1)]),(0,l._)("li",q,[E,(0,l._)("p",H,(0,a.zw)(J.order_user.name),1)]),(0,l._)("li",K,[N,(0,l._)("p",T,(0,a.zw)(J.order_user.tel),1)]),(0,l._)("li",Y,[Z,(0,l._)("p",A,(0,a.zw)(J.order_user.address),1)]),B]),(0,l._)("button",{type:"submit",class:"btn btn-primary w-100 py-3 mt-5",onClick:s[0]||(s[0]=t=>L.payCheck())},[J.paid?((0,l.wg)(),(0,l.iD)("p",F,"已付款")):((0,l.wg)(),(0,l.iD)("p",G,"信用卡付款"))])])])}var J={data(){return{cartData:{},order:{},order_user:{},order_product:{},order_id:"",paid:""}},inject:["emitter"],methods:{getOrder(){this.order_id=this.$route.params.id,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/wilsoncheng/order/${this.order_id}`).then((t=>{this.order=t.data.order,this.order_user=t.data.order.user,this.order_products=t.data.order.products,this.cartData=t.data.order.products,console.log(this.cartData)}))},payCheck(){this.$http.post(`https://vue3-course-api.hexschool.io/v2/api/wilsoncheng/pay/${this.order_id}`).then((t=>{this.emitter.emit("push-message",{style:"success",title:"已經完成繳費"}),this.paid="已繳費"})).catch((t=>{alert(t.response.data.message)}))}},mounted(){this.getOrder()}},L=e(3744);const M=(0,L.Z)(J,[["render",I]]);var P=M}}]);
//# sourceMappingURL=326.8db091aa.js.map
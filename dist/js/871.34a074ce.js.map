{"version":3,"file":"js/871.34a074ce.js","mappings":"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","sources":["webpack://week6/./src/views/Frontend/ProductsView.vue","webpack://week6/./src/components/PaginationTool.vue","webpack://week6/./src/components/PaginationTool.vue?a8c6","webpack://week6/./src/views/Frontend/ProductsView.vue?9b6d"],"sourcesContent":["<template>\n<div class=\"container\">\n    <form @submit.prevent=\"submit\"\n          class=\"vld-parent\"\n          ref=\"formContainer\">\n    </form>\n    <div class=\"row\">\n        <div class=\"col-lg-3 col-md-12 col-sm-12\">\n            <div class=\"list-group w-100 flex-direction-column text-center\">\n  <a href=\"#/products\" class=\"list-group-item list-group-item-action\" :class=\"{'active': products === listproducts}\" @click=\"ChangeList ('all')\">全部</a>\n  <a href=\"#/products\" class=\"list-group-item list-group-item-action\" @click=\"ChangeList ('校園')\">校園</a>\n  <a href=\"#/products\" class=\"list-group-item list-group-item-action\" @click=\"ChangeList ('自然')\">自然</a>\n  <a href=\"#/products\" class=\"list-group-item list-group-item-action\" @click=\"ChangeList ('機械')\">其他</a>\n            </div>\n        </div>\n        <div class=\"row col-lg-9 row-cols-lg-4 row-col-md-3 col-sm-12 mg0-a\">\n            <div class=\"pd-1 mb-2\" v-for=\"product in listproducts\" :key=\"product.id\">\n                <div class=\"card h-100\">\n                    <img :src=\"product.imageUrl\" class=\"card-img-top\" alt=\"\">\n                    <div class=\"card-body \">\n                        <h5 class=\"card-title\">{{product.title}}</h5>\n                        <p class=\"card-text mb-5\">{{product.description}}\n                        </p>\n                        <div class=\"btn-group btn-group-sm btn-absolute mb-1\">\n                            <router-link :to=\"`/product/${product.id}`\" class=\"btn btn-outline-secondary\"\n                                >\n                                <i class=\"fas fa-spinner fa-pulse\" v-show=\"productID === product.id\"></i>\n                                查看更多\n                            </router-link>\n                            <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"addToCart(product.id)\">\n                                <i class=\"fas fa-spinner fa-pulse\" v-show=\"isLoadingItem === product.id\"></i>\n                                我想贊助\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <PaginationTool/>\n    </div>\n</div>\n</template>\n\n<script>\nimport PaginationTool from '@/components/PaginationTool.vue'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nexport default {\n  data () {\n    return {\n      products: [],\n      cartData: {},\n      listproducts: [],\n      isLoadingItem: '',\n      productID: ''\n    }\n  },\n  components: {\n    PaginationTool\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts (page = 1) {\n      const loader = this.$loading.show()\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`\n        )\n        .then((res) => {\n          this.products = res.data.products\n          this.listproducts = this.products\n          this.emitter.emit('push-pagination', {\n            pages: res.data.pagination\n          })\n        })\n      loader.hide()\n    },\n    addToCart (id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty\n      }\n      this.isLoadingItem = id\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        )\n        .then((res) => {\n          this.isLoadingItem = ''\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '已經加入購物車'\n          })\n          this.emitter.emit('get-cart', {\n          })\n        })\n    },\n    ChangeList (type) {\n      const loader = this.$loading.show()\n      this.listproducts = []\n      if (type === 'all') {\n        this.listproducts = this.products\n      } else {\n        this.products.forEach(item => {\n          if (item.category === type) {\n            this.listproducts.push(item)\n          }\n        })\n      }\n      loader.hide()\n    }\n  },\n  mounted () {\n    this.getProducts()\n    this.emitter.on('deliver-page_now', (message) => {\n      this.getProducts(message.page)\n    })\n  }\n}\n</script>\n","<template>\n            <ul class=\"pagination\">\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === 1}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Previous\" @click.prevent=\"pageChange(item-1)\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n          <li\n            v-for=\"(item, index) in pages.total_pages\"\n            :key=\"index\"\n            class=\"page-item\"\n            :class=\"{'active': item === pages.current_page}\"\n          >\n            <span\n              class=\"page-link\"\n              v-if=\"item === pages.current_page\"\n            >{{ item }}</span>\n            <a @click.prevent=\"pageChange(item)\"\n              class=\"page-link\"\n              href=\"#/products\"\n              v-else\n            >{{ item }}</a>\n          </li>\n          <li\n            class=\"page-item\"\n            :class=\"{'disabled': pages.current_page === pages.total_pages}\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#/products\"\n              aria-label=\"Next\" @click.prevent=\"pageChange(item+1)\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        </ul>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      pages: {}\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    pageChange (item) {\n      this.emitter.emit('deliver-page_now', {\n        page: item\n      })\n    }\n  },\n  mounted () {\n    this.emitter.on('push-pagination', (message) => {\n      this.pages = message.pages\n    })\n  }\n}\n</script>\n","import { render } from \"./PaginationTool.vue?vue&type=template&id=1253d121\"\nimport script from \"./PaginationTool.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationTool.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=51eb2822\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\作品集\\\\VUE直播班\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","onSubmit","_ctx","ref","href","$data","onClick","$options","_Fragment","_renderList","product","key","id","src","imageUrl","alt","_toDisplayString","title","description","_createVNode","_component_router_link","to","type","_component_PaginationTool","_hoisted_2","_hoisted_6","current_page","total_pages","item","index","_hoisted_5","data","pages","inject","methods","pageChange","this","emitter","emit","page","mounted","on","message","__exports__","products","cartData","listproducts","isLoadingItem","productID","components","PaginationTool","getProducts","loader","$loading","show","$http","get","then","res","pagination","hide","addToCart","qty","product_id","post","style","ChangeList","forEach","category","push","render"],"sourceRoot":""}